{
    "$schema": "paktlang://schema/module/v1",
    "$id": "paktlang://modules/stok/v1",
    "module": "stok",
    "version": "0.1.0",
    "description": "Stok modülü iskeleti - ERP veritabanlarına erişim haritası",
    "tables": [
        {
            "pl_table": "stok_kart",
            "real_name": [],
            "description": "Stok/ürün ana kartları",
            "is_master": true,
            "audit": true,
            "soft_delete": true,
            "columns": [
                {
                    "pl_column": "id",
                    "real_name": "",
                    "type": "bigint",
                    "primary_key": true
                },
                {
                    "pl_column": "stok_kodu",
                    "real_name": "",
                    "type": "string",
                    "required": true,
                    "unique": true
                },
                {
                    "pl_column": "stok_adi",
                    "real_name": "",
                    "type": "string",
                    "required": true
                },
                {
                    "pl_column": "barkod",
                    "real_name": "",
                    "type": "string",
                    "unique": true
                },
                {
                    "pl_column": "birim_id",
                    "real_name": "",
                    "type": "bigint"
                },
                {
                    "pl_column": "kategori_id",
                    "real_name": "",
                    "type": "bigint"
                },
                {
                    "pl_column": "aktif",
                    "real_name": "",
                    "type": "boolean",
                    "default": true
                }
            ]
        },
        {
            "pl_table": "stok_kategori",
            "real_name": [],
            "description": "Stok kategorileri",
            "is_master": true,
            "columns": [
                {
                    "pl_column": "id",
                    "real_name": "",
                    "type": "bigint",
                    "primary_key": true
                },
                {
                    "pl_column": "kategori_kodu",
                    "real_name": "",
                    "type": "string",
                    "required": true
                },
                {
                    "pl_column": "kategori_adi",
                    "real_name": "",
                    "type": "string",
                    "required": true
                },
                {
                    "pl_column": "ust_kategori_id",
                    "real_name": "",
                    "type": "bigint"
                },
                {
                    "pl_column": "aktif",
                    "real_name": "",
                    "type": "boolean",
                    "default": true
                }
            ]
        },
        {
            "pl_table": "birim",
            "real_name": [],
            "description": "Ölçü birimleri",
            "is_master": true,
            "columns": [
                {
                    "pl_column": "id",
                    "real_name": "",
                    "type": "bigint",
                    "primary_key": true
                },
                {
                    "pl_column": "birim_kodu",
                    "real_name": "",
                    "type": "string",
                    "required": true
                },
                {
                    "pl_column": "birim_adi",
                    "real_name": "",
                    "type": "string",
                    "required": true
                },
                {
                    "pl_column": "aktif",
                    "real_name": "",
                    "type": "boolean",
                    "default": true
                }
            ]
        },
        {
            "pl_table": "depo",
            "real_name": [],
            "description": "Depo/ambar tanımları",
            "is_master": true,
            "columns": [
                {
                    "pl_column": "id",
                    "real_name": "",
                    "type": "bigint",
                    "primary_key": true
                },
                {
                    "pl_column": "depo_kodu",
                    "real_name": "",
                    "type": "string",
                    "required": true
                },
                {
                    "pl_column": "depo_adi",
                    "real_name": "",
                    "type": "string",
                    "required": true
                },
                {
                    "pl_column": "aktif",
                    "real_name": "",
                    "type": "boolean",
                    "default": true
                }
            ]
        },
        {
            "pl_table": "stok_hareket",
            "real_name": [],
            "description": "Stok giriş/çıkış hareketleri",
            "is_master": false,
            "audit": true,
            "columns": [
                {
                    "pl_column": "id",
                    "real_name": "",
                    "type": "bigint",
                    "primary_key": true
                },
                {
                    "pl_column": "stok_id",
                    "real_name": "",
                    "type": "bigint",
                    "required": true
                },
                {
                    "pl_column": "depo_id",
                    "real_name": "",
                    "type": "bigint"
                },
                {
                    "pl_column": "hareket_tipi",
                    "real_name": "",
                    "type": "string",
                    "required": true
                },
                {
                    "pl_column": "miktar",
                    "real_name": "",
                    "type": "decimal",
                    "required": true
                },
                {
                    "pl_column": "tarih",
                    "real_name": "",
                    "type": "datetime",
                    "required": true
                }
            ]
        },
        {
            "pl_table": "stok_bakiye",
            "real_name": [],
            "description": "Stok güncel bakiyesi (depo bazlı)",
            "is_master": false,
            "columns": [
                {
                    "pl_column": "id",
                    "real_name": "",
                    "type": "bigint",
                    "primary_key": true
                },
                {
                    "pl_column": "stok_id",
                    "real_name": "",
                    "type": "bigint",
                    "required": true
                },
                {
                    "pl_column": "depo_id",
                    "real_name": "",
                    "type": "bigint",
                    "required": true
                },
                {
                    "pl_column": "miktar",
                    "real_name": "",
                    "type": "decimal",
                    "required": true
                }
            ]
        },
        {
            "pl_table": "stok_fiyat",
            "real_name": [],
            "description": "Stok fiyat bilgileri",
            "is_master": false,
            "columns": [
                {
                    "pl_column": "id",
                    "real_name": "",
                    "type": "bigint",
                    "primary_key": true
                },
                {
                    "pl_column": "stok_id",
                    "real_name": "",
                    "type": "bigint",
                    "required": true
                },
                {
                    "pl_column": "fiyat_tipi",
                    "real_name": "",
                    "type": "string",
                    "required": true
                },
                {
                    "pl_column": "fiyat",
                    "real_name": "",
                    "type": "decimal",
                    "required": true
                },
                {
                    "pl_column": "para_birimi",
                    "real_name": "",
                    "type": "string",
                    "default": "TRY"
                },
                {
                    "pl_column": "gecerlilik_baslangic",
                    "real_name": "",
                    "type": "date"
                },
                {
                    "pl_column": "gecerlilik_bitis",
                    "real_name": "",
                    "type": "date"
                }
            ]
        },
        {
            "pl_table": "stok_birim_cevrimi",
            "real_name": [],
            "description": "Birim dönüşüm oranları (1 koli = 12 adet)",
            "is_master": false,
            "columns": [
                {
                    "pl_column": "id",
                    "real_name": "",
                    "type": "bigint",
                    "primary_key": true
                },
                {
                    "pl_column": "stok_id",
                    "real_name": "",
                    "type": "bigint",
                    "required": true
                },
                {
                    "pl_column": "kaynak_birim_id",
                    "real_name": "",
                    "type": "bigint",
                    "required": true
                },
                {
                    "pl_column": "hedef_birim_id",
                    "real_name": "",
                    "type": "bigint",
                    "required": true
                },
                {
                    "pl_column": "cevrim_orani",
                    "real_name": "",
                    "type": "decimal",
                    "required": true
                }
            ]
        },
        {
            "pl_table": "marka",
            "real_name": [],
            "description": "Ürün markaları",
            "is_master": true,
            "columns": [
                {
                    "pl_column": "id",
                    "real_name": "",
                    "type": "bigint",
                    "primary_key": true
                },
                {
                    "pl_column": "marka_kodu",
                    "real_name": "",
                    "type": "string",
                    "required": true
                },
                {
                    "pl_column": "marka_adi",
                    "real_name": "",
                    "type": "string",
                    "required": true
                },
                {
                    "pl_column": "aktif",
                    "real_name": "",
                    "type": "boolean",
                    "default": true
                }
            ]
        }
    ]
}