{
    "$schema": "paktlang://meta/types/v1",
    "$id": "paktlang://types/erp/v1",
    "version": "1.0.0",
    "description": "PaktLang ERP'ye özel genişletilmiş veri tipleri",
    "erp_types": {
        "currency": {
            "description": "Para birimi tutarı",
            "base_type": "decimal",
            "extends": {
                "precision": 18,
                "scale": 4
            },
            "metadata": {
                "category": "financial",
                "display_format": "#,##0.00",
                "requires_currency_code": true
            },
            "examples": [
                "1234.5678",
                "0.0001",
                "999999999999.9999"
            ]
        },
        "quantity": {
            "description": "Miktar/adet değeri",
            "base_type": "decimal",
            "extends": {
                "precision": 18,
                "scale": 6
            },
            "metadata": {
                "category": "inventory",
                "display_format": "#,##0.######",
                "requires_unit": true
            },
            "examples": [
                "100.000000",
                "0.001234",
                "5000.5"
            ]
        },
        "unit_price": {
            "description": "Birim fiyat",
            "base_type": "decimal",
            "extends": {
                "precision": 18,
                "scale": 6
            },
            "metadata": {
                "category": "financial",
                "display_format": "#,##0.000000"
            },
            "examples": [
                "12.345678",
                "0.000001"
            ]
        },
        "percentage": {
            "description": "Yüzdelik değer (0-100)",
            "base_type": "decimal",
            "extends": {
                "precision": 5,
                "scale": 2,
                "min": 0,
                "max": 100
            },
            "metadata": {
                "category": "general",
                "display_format": "#0.00%"
            },
            "examples": [
                "18.00",
                "8.50",
                "0.01"
            ]
        },
        "tax_rate": {
            "description": "Vergi oranı",
            "base_type": "decimal",
            "extends": {
                "precision": 5,
                "scale": 2,
                "min": 0,
                "max": 100
            },
            "metadata": {
                "category": "financial",
                "display_format": "%#0.00",
                "common_values": [
                    0,
                    1,
                    8,
                    10,
                    18,
                    20
                ]
            },
            "examples": [
                "18.00",
                "8.00",
                "0.00"
            ]
        },
        "discount_rate": {
            "description": "İskonto oranı",
            "base_type": "decimal",
            "extends": {
                "precision": 5,
                "scale": 2,
                "min": 0,
                "max": 100
            },
            "metadata": {
                "category": "financial",
                "display_format": "%#0.00"
            },
            "examples": [
                "5.00",
                "10.50",
                "25.00"
            ]
        },
        "exchange_rate": {
            "description": "Döviz kuru",
            "base_type": "decimal",
            "extends": {
                "precision": 18,
                "scale": 6,
                "min": 0
            },
            "metadata": {
                "category": "financial",
                "display_format": "#,##0.000000"
            },
            "examples": [
                "34.567890",
                "1.000000",
                "0.850000"
            ]
        },
        "erp_code": {
            "description": "ERP kayıt kodu (stok kodu, cari kodu vb.)",
            "base_type": "string",
            "extends": {
                "max_length": 50,
                "pattern": "^[A-Za-z0-9_\\-\\.]+$",
                "trim": true
            },
            "metadata": {
                "category": "identifier",
                "case_sensitive": false,
                "unique_per_type": true
            },
            "examples": [
                "STK-001",
                "CRI_00123",
                "FIN.2024.001"
            ]
        },
        "document_number": {
            "description": "Belge numarası (fatura no, sipariş no vb.)",
            "base_type": "string",
            "extends": {
                "max_length": 50,
                "pattern": "^[A-Za-z0-9_\\-\\.]+$"
            },
            "metadata": {
                "category": "identifier",
                "auto_generate_pattern": "{PREFIX}{YEAR}{SEQUENCE}",
                "unique_per_period": true
            },
            "examples": [
                "FAT2024000001",
                "SIP-2024-00123"
            ]
        },
        "tax_number": {
            "description": "Vergi numarası (10-11 haneli)",
            "base_type": "string",
            "extends": {
                "max_length": 11,
                "min_length": 10,
                "pattern": "^[0-9]{10,11}$"
            },
            "metadata": {
                "category": "legal",
                "country": "TR",
                "validation": "mod11_checksum"
            },
            "examples": [
                "1234567890",
                "12345678901"
            ]
        },
        "tc_kimlik": {
            "description": "TC Kimlik Numarası (11 haneli)",
            "base_type": "string",
            "extends": {
                "max_length": 11,
                "min_length": 11,
                "pattern": "^[1-9][0-9]{10}$"
            },
            "metadata": {
                "category": "legal",
                "country": "TR",
                "validation": "tc_kimlik_checksum"
            },
            "examples": [
                "12345678901"
            ]
        },
        "phone": {
            "description": "Telefon numarası",
            "base_type": "string",
            "extends": {
                "max_length": 20,
                "pattern": "^[\\+]?[0-9\\s\\-\\(\\)]+$"
            },
            "metadata": {
                "category": "contact",
                "formats": [
                    "+90 XXX XXX XX XX",
                    "0XXX XXX XX XX"
                ]
            },
            "examples": [
                "+90 532 123 45 67",
                "0532 123 4567"
            ]
        },
        "email": {
            "description": "E-posta adresi",
            "base_type": "string",
            "extends": {
                "max_length": 254,
                "pattern": "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"
            },
            "metadata": {
                "category": "contact",
                "lowercase": true
            },
            "examples": [
                "ornek@firma.com",
                "info@sirket.com.tr"
            ]
        },
        "iban": {
            "description": "Uluslararası Banka Hesap Numarası",
            "base_type": "string",
            "extends": {
                "max_length": 34,
                "min_length": 15,
                "pattern": "^[A-Z]{2}[0-9]{2}[A-Z0-9]{4,30}$"
            },
            "metadata": {
                "category": "financial",
                "validation": "iban_checksum"
            },
            "examples": [
                "TR330006100519786457841326"
            ]
        },
        "currency_code": {
            "description": "Para birimi kodu (ISO 4217)",
            "base_type": "string",
            "extends": {
                "max_length": 3,
                "min_length": 3,
                "pattern": "^[A-Z]{3}$"
            },
            "metadata": {
                "category": "financial",
                "standard": "ISO 4217",
                "common_values": [
                    "TRY",
                    "USD",
                    "EUR",
                    "GBP"
                ]
            },
            "examples": [
                "TRY",
                "USD",
                "EUR"
            ]
        },
        "country_code": {
            "description": "Ülke kodu (ISO 3166-1 alpha-2)",
            "base_type": "string",
            "extends": {
                "max_length": 2,
                "min_length": 2,
                "pattern": "^[A-Z]{2}$"
            },
            "metadata": {
                "category": "location",
                "standard": "ISO 3166-1"
            },
            "examples": [
                "TR",
                "US",
                "DE"
            ]
        },
        "unit_code": {
            "description": "Ölçü birimi kodu",
            "base_type": "string",
            "extends": {
                "max_length": 10,
                "pattern": "^[A-Za-z0-9]+$"
            },
            "metadata": {
                "category": "inventory",
                "common_values": [
                    "AD",
                    "KG",
                    "LT",
                    "MT",
                    "M2",
                    "M3",
                    "PKT",
                    "KOL"
                ]
            },
            "examples": [
                "AD",
                "KG",
                "LT",
                "MT"
            ]
        },
        "fiscal_year": {
            "description": "Mali yıl",
            "base_type": "integer",
            "extends": {
                "min": 2000,
                "max": 2100
            },
            "metadata": {
                "category": "accounting"
            },
            "examples": [
                2024,
                2025
            ]
        },
        "fiscal_period": {
            "description": "Mali dönem (ay)",
            "base_type": "integer",
            "extends": {
                "min": 1,
                "max": 12
            },
            "metadata": {
                "category": "accounting"
            },
            "examples": [
                1,
                6,
                12
            ]
        },
        "account_code": {
            "description": "Muhasebe hesap kodu",
            "base_type": "string",
            "extends": {
                "max_length": 50,
                "pattern": "^[0-9\\.]+$"
            },
            "metadata": {
                "category": "accounting",
                "format": "Tekdüzen Hesap Planı"
            },
            "examples": [
                "100",
                "100.01",
                "320.001.001"
            ]
        },
        "warehouse_code": {
            "description": "Depo kodu",
            "base_type": "string",
            "extends": {
                "max_length": 20,
                "pattern": "^[A-Za-z0-9_\\-]+$"
            },
            "metadata": {
                "category": "inventory"
            },
            "examples": [
                "DEPO-01",
                "MERKEZ",
                "SUBE_IST"
            ]
        },
        "netsis_belge_tipi": {
            "description": "Netsis STHAR_FTIRSIP belge tipi kodu",
            "base_type": "string",
            "extends": {
                "max_length": 1,
                "pattern": "^[1-9A]$"
            },
            "metadata": {
                "category": "erp_mapping",
                "erp": "netsis",
                "mappings": {
                    "1": "satis_fatura",
                    "2": "alis_fatura",
                    "3": "satis_irsaliye",
                    "4": "alis_irsaliye",
                    "6": "musteri_siparis",
                    "7": "satici_siparis",
                    "8": "dat_giris",
                    "9": "dat_cikis",
                    "A": "saklanmis_irsaliye"
                }
            },
            "examples": [
                "1",
                "2",
                "3"
            ]
        },
        "netsis_hareket_turu": {
            "description": "Netsis STHAR_HTUR hareket türü kodu",
            "base_type": "string",
            "extends": {
                "max_length": 1,
                "pattern": "^[A-M]$"
            },
            "metadata": {
                "category": "erp_mapping",
                "erp": "netsis",
                "mappings": {
                    "A": "devir",
                    "B": "depolar_arasi_transfer",
                    "C": "uretim",
                    "D": "muhtelif",
                    "E": "miktarsiz_maliyet",
                    "F": "konsinye",
                    "G": "mustahsil",
                    "H": "irsaliye_tipli",
                    "I": "kapali_fatura",
                    "J": "acik_fatura",
                    "K": "muhtelif_musteri",
                    "L": "iade",
                    "M": "zayi_iade"
                }
            },
            "examples": [
                "A",
                "B",
                "I"
            ]
        },
        "logo_trcode": {
            "description": "Logo STLINE.TRCODE hareket türü kodu",
            "base_type": "integer",
            "extends": {
                "min": 1,
                "max": 50
            },
            "metadata": {
                "category": "erp_mapping",
                "erp": "logo",
                "mappings": {
                    "1": "alis",
                    "2": "perakende_satis",
                    "3": "toptan_satis",
                    "4": "konsinye_giris",
                    "5": "konsinye_cikis",
                    "6": "mustahsil",
                    "7": "perakende_iade",
                    "8": "toptan_iade",
                    "11": "fire",
                    "12": "sarf",
                    "13": "uretimden_giris",
                    "14": "uretime_cikis",
                    "25": "transfer"
                }
            },
            "examples": [
                1,
                2,
                3
            ]
        },
        "logo_firma_kodu": {
            "description": "Logo firma kodu prefix (3 haneli)",
            "base_type": "string",
            "extends": {
                "max_length": 3,
                "min_length": 3,
                "pattern": "^[0-9]{3}$"
            },
            "metadata": {
                "category": "erp_mapping",
                "erp": "logo",
                "usage": "Tablo adlarında LG_{FIRMA}_ prefix olarak kullanılır"
            },
            "examples": [
                "001",
                "002",
                "100"
            ]
        }
    },
    "type_categories": {
        "financial": [
            "currency",
            "unit_price",
            "tax_rate",
            "discount_rate",
            "exchange_rate",
            "iban",
            "currency_code"
        ],
        "inventory": [
            "quantity",
            "unit_code",
            "warehouse_code"
        ],
        "identifier": [
            "erp_code",
            "document_number"
        ],
        "legal": [
            "tax_number",
            "tc_kimlik"
        ],
        "contact": [
            "phone",
            "email"
        ],
        "location": [
            "country_code"
        ],
        "accounting": [
            "fiscal_year",
            "fiscal_period",
            "account_code"
        ],
        "general": [
            "percentage"
        ],
        "erp_mapping": [
            "netsis_belge_tipi",
            "netsis_hareket_turu",
            "logo_trcode",
            "logo_firma_kodu"
        ]
    }
}